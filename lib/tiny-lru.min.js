/* 2016 Jason Mulligan <jason.mulligan@avoidwork.com> */

"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(a){function b(){var a=arguments.length<=0||void 0===arguments[0]?1e3:arguments[0];return new LRU(a)}var LRUItem=function LRUItem(a){_classCallCheck(this,LRUItem),this.next=null,this.previous=null,this.value=a},LRU=function(){function LRU(a){_classCallCheck(this,LRU),this.cache={},this.max=a,this.first=null,this.last=null,this.length=0}return _createClass(LRU,[{key:"delete",value:function(a){return this.remove(a)}},{key:"evict",value:function(){return null!==this.last&&this.remove(this.last),this}},{key:"get",value:function(a){var b=this.cache[a],c=void 0;return b&&(c=b.value,this.set(a,b.value)),c}},{key:"has",value:function(a){return void 0!==this.cache[a]}},{key:"remove",value:function(a){var b=this.cache[a];return b&&(delete this.cache[a],this.length--,null!==b.previous&&(this.cache[b.previous].next=b.next),null!==b.next&&(this.cache[b.next].previous=b.previous),this.first===a&&(this.first=b.previous),this.last===a&&(this.last=b.next)),b}},{key:"set",value:function(a,b){var c=this.remove(a);return c?c.value=b:c=new LRUItem(b),c.next=null,c.previous=this.first,this.cache[a]=c,this.first&&(this.cache[this.first].next=a),this.first=a,this.last||(this.last=a),++this.length>this.max&&this.evict(),this}}]),LRU}();"undefined"!=typeof exports?module.exports=b:"function"==typeof define&&define.amd?define(function(){return b}):a.lru=b}("undefined"!=typeof window?window:global);
//# sourceMappingURL=tiny-lru.min.js.map