/*
 2018 Jason Mulligan <jason.mulligan@avoidwork.com>
 @version 5.0.0
*/
"use strict";(function(a){function b(c,d,f,a){c[f]=d,c[a]===d&&(c[a]=e)}function c(){return this.cache={},this.first=e,this.last=e,this.length=0,this}function d(a=1e3,b=0){return new f(a,b)}const e=null;class f{constructor(a,b){this.max=a,this.ttl=b,c.call(this)}clear(){return c.call(this),this}delete(a){return this.remove(a)}dump(){return JSON.stringify({cache:this.cache,first:this.first,last:this.last,length:this.length,max:this.max,notify:this.notify,ttl:this.ttl})}evict(){return this.remove(this.last,!0),this}get(a){let b;if(!0===this.has(a)){const c=this.cache[a];-1===c.expiry||c.expiry>Date.now()?(b=c.value,this.set(a,b,!0,!0)):this.remove(a)}return b}has(a){return a in this.cache}onchange(){}remove(a,b=!1){let c;return(!0===b||!0===this.has(a))&&(c=this.cache[a],delete this.cache[a],this.length--,c.previous!==e&&(this.cache[c.previous].next=c.next),c.next!==e&&(this.cache[c.next].previous=c.previous),this.first===a&&(this.first=c.previous),this.last===a&&(this.last=c.next)),c}set(a,c,d=!1){if(!0===d||!0===this.has(a)){const d=this.cache[a];if(d.value=c,this.first!==a){const c=d.next,f=d.previous;d.next=e,d.previous=this.first,b(this.cache[this.first],a,"next","previous"),c!==e&&c!==this.first&&(f!==e&&(this.cache[f].next=c),this.cache[c].previous=f),this.last===a&&(this.last=c)}}else this.length===this.max&&this.evict(),this.length++,this.cache[a]={expiry:0<this.ttl?new Date().getTime()+this.ttl:-1,next:e,previous:this.first,value:c},1===this.length&&(this.last=a),this.first!==e&&this.first!==a&&b(this.cache[this.first],a,"next","previous");return this.first=a,this}}"undefined"==typeof exports?"function"==typeof define&&void 0!==define.amd?define(()=>d):a.lru=d:module.exports=d})("undefined"==typeof window?global:window);
//# sourceMappingURL=tiny-lru.min.js.map