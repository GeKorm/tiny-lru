/*
 2018 Jason Mulligan <jason.mulligan@avoidwork.com>
 @version 5.0.0
*/
"use strict";(function(a){function b(a,b){a.next=b,a.previous===b&&(a.previous=d)}function c(a=1e3,b=0){return new e(a,b)}const d=null;class e{constructor(a,b){this.cache={},this.first=d,this.last=d,this.length=0,this.max=a,this.ttl=b}clear(){return this.cache={},this.first=d,this.last=d,this.length=0,this}delete(a){return this.remove(a)}evict(){return this.remove(this.last,!0),this}get(a){let b;if(!0===this.has(a)){const c=this.cache[a];-1===c.expiry||c.expiry>Date.now()?(b=c.value,this.set(a,b,!0,!0)):this.remove(a)}return b}has(a){return a in this.cache}remove(a,b=!1){let c;return(!0===b||!0===this.has(a))&&(c=this.cache[a],delete this.cache[a],this.length--,c.previous!==d&&(this.cache[c.previous].next=c.next),c.next!==d&&(this.cache[c.next].previous=c.previous),this.first===a&&(this.first=c.previous),this.last===a&&(this.last=c.next)),c}set(a,c,e=!1){if(!0===e||!0===this.has(a)){const e=this.cache[a];if(e.value=c,this.first!==a){const c=e.next,f=e.previous;e.next=d,e.previous=this.first,b(this.cache[this.first],a),c!==d&&c!==this.first&&(f!==d&&(this.cache[f].next=c),this.cache[c].previous=f),this.last===a&&(this.last=c)}}else this.length===this.max&&this.evict(),this.length++,this.cache[a]={expiry:0<this.ttl?new Date().getTime()+this.ttl:-1,next:d,previous:this.first,value:c},1===this.length&&(this.last=a),this.first!==d&&this.first!==a&&b(this.cache[this.first],a);return this.first=a,this}}"undefined"==typeof exports?"function"==typeof define&&void 0!==define.amd?define(()=>c):a.lru=c:module.exports=c})("undefined"==typeof window?global:window);
//# sourceMappingURL=tiny-lru.min.js.map