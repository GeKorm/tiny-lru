/*
 2018 Jason Mulligan <jason.mulligan@avoidwork.com>
 @version 5.0.4
*/
"use strict";(function(a){function b(a=1e3,b=0){return new e(a,b)}const c=null;class d{constructor(a,b,c=-1,d=null,e=null){this.expiry=c,this.key=a,this.next=e,this.prev=d,this.value=b}}class e{constructor(a,b){this.clear(),this.max=a,this.ttl=b}clear(){return this.cache={},this.first=c,this.last=c,this.length=0,this}delete(a,b=!1){return this.remove(a,b)}evict(){return 0<this.length&&this.remove(this.last.key,!0),this}get(a){let b;if(!0===this.has(a)){const c=this.cache[a];-1===c.expiry||c.expiry>Date.now()?(b=c.value,this.set(a,b,!0)):this.remove(a,!0)}return b}has(a){return a in this.cache}remove(a,b=!1){if(!0===b||!0===this.has(a)){const b=this.cache[a];delete this.cache[a],this.length--,b.next!==c&&(b.next.prev=b.prev),b.prev!==c&&(b.prev.next=b.next),this.first===b&&(this.first=b.next),this.last===b&&(this.last=b.prev)}return this}set(a,b,e=!1){let g;if(!0!==e&&!0!==this.has(a))this.length===this.max&&this.evict(),this.length++,g=this.cache[a]=new d(a,b,0<this.ttl?new Date().getTime()+this.ttl:-1,c,this.first),1===this.length?this.last=g:this.first.prev=g;else if(g=this.cache[a],g.value=b,this.first!==g){const a=g.prev,b=g.next,d=this.first;g.prev=c,g.next=this.first,d.prev=g,a!==c&&(a.next=b),b!==c&&(b.prev=a),this.last===g&&(this.last=a)}return this.first=g,this}}"undefined"==typeof exports?"function"==typeof define&&void 0!==define.amd?define(()=>b):a.lru=b:module.exports=b})("undefined"==typeof window?global:window);
//# sourceMappingURL=tiny-lru.min.js.map